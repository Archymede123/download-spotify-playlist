{"ast":null,"code":"import _classCallCheck from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistPage.js\";\nimport React, { Component } from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport className from 'classnames';\nimport Button from './UI-components/Button';\nimport Blindtest from './Blindtest'; // css\n\nimport '../css/PlaylistPage.css';\nvar spotifyApi = new SpotifyWebApi();\n\nvar PlaylistPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlaylistPage, _Component);\n\n  function PlaylistPage() {\n    var _this;\n\n    _classCallCheck(this, PlaylistPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlaylistPage).call(this));\n\n    _this.handleBackButton = function () {\n      _this.props.history.push(\"/\");\n    };\n\n    _this.triggerPlaylist = function () {\n      var uri = {\n        \"context_uri\": _this.state.playlist.uri\n      };\n      spotifyApi.play(uri);\n    };\n\n    _this.state = {\n      playlist: {},\n      blindtestPlaying: false\n    };\n    return _this;\n  }\n\n  _createClass(PlaylistPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var playlistIndex = this.props.match.params.playlistId.match(/\\d/);\n      var playlist = this.props.playlists.find(function (playlist) {\n        return playlist.index.toString() === playlistIndex[0];\n      });\n      this.setState({\n        playlist: playlist\n      });\n      spotifyApi.setAccessToken(this.props.access_token);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var playlist = this.state.playlist;\n      var blindTestClass = className({\n        blindtest: true,\n        playing: this.state.blindtestPlaying,\n        hidden: !this.state.blindtestPlaying\n      });\n      return React.createElement(\"div\", {\n        className: \"playlistPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Button, {\n        content: \"Back to playlist list\",\n        onClick: this.handleBackButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, playlist.name), React.createElement(Button, {\n        content: \"Play\",\n        onClick: this.triggerPlaylist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: blindTestClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(Blindtest, {\n        access_token: this.props.access_token,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), playlist.songs ? React.createElement(\"ul\", {\n        className: \"song-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" \", playlist.songs.map(function (song, key) {\n        return React.createElement(\"li\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, song.name);\n      }), \" \") : null);\n    }\n  }]);\n\n  return PlaylistPage;\n}(Component);\n\nexport default PlaylistPage;","map":{"version":3,"sources":["/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistPage.js"],"names":["React","Component","SpotifyWebApi","className","Button","Blindtest","spotifyApi","PlaylistPage","handleBackButton","props","history","push","triggerPlaylist","uri","state","playlist","play","blindtestPlaying","playlistIndex","match","params","playlistId","playlists","find","index","toString","setState","setAccessToken","access_token","blindTestClass","blindtest","playing","hidden","name","songs","map","song","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport className from 'classnames';\nimport Button from './UI-components/Button';\nimport Blindtest from './Blindtest'\n\n// css\nimport '../css/PlaylistPage.css';\n\nconst spotifyApi = new SpotifyWebApi();\n\n\n\nclass PlaylistPage extends Component {\n    constructor() {\n        super();\n        this.state = {\n            playlist: {},\n            blindtestPlaying: false\n        }\n    }\n\n    handleBackButton = () => {\n        this.props.history.push(`/`)\n    }\n\n    triggerPlaylist = () => {\n\n        const uri = {\n            \"context_uri\": this.state.playlist.uri,\n        }\n        spotifyApi.play(uri)\n    }\n\n\n\n    componentDidMount() {\n        let playlistIndex = this.props.match.params.playlistId.match(/\\d/)\n        let playlist = this.props.playlists.find(playlist =>\n            playlist.index.toString() === playlistIndex[0]\n        )\n        this.setState({ playlist })\n        spotifyApi.setAccessToken(this.props.access_token)\n    }\n\n    render() {\n        let playlist = this.state.playlist\n        var blindTestClass = className({\n            blindtest: true,\n            playing: this.state.blindtestPlaying,\n            hidden: !this.state.blindtestPlaying\n        })\n        return (\n            <div className=\"playlistPage\">\n                <Button content=\"Back to playlist list\" onClick={this.handleBackButton} />\n                <div>\n                    <p>{playlist.name}</p>\n                    <Button content=\"Play\" onClick={this.triggerPlaylist} />\n                </div>\n                <div className={blindTestClass}>\n\n                </div>\n                <Blindtest access_token={this.props.access_token} />\n                {playlist.songs ?\n                    <ul className=\"song-list\"> {playlist.songs.map((song, key) =>\n                        <li key={key}>{song.name}</li>\n                    )} </ul>\n                    : null\n                }\n            </div>\n\n\n        );\n    }\n}\n\nexport default PlaylistPage;"]},"metadata":{},"sourceType":"module"}