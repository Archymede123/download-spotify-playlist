{"ast":null,"code":"import _classCallCheck from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistsListing.js\";\nimport React, { Component } from 'react'; //components\n\nimport Playlist from './Playlist';\nimport DownloadPlaylist from './DownloadPlaylist';\nimport HoursCounter from './HoursCounter.js';\nimport Filter from './Filter';\nimport PlaylistCounter from './PlaylistCounter';\n\nvar PlaylistsListing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlaylistsListing, _Component);\n\n  function PlaylistsListing() {\n    var _this;\n\n    _classCallCheck(this, PlaylistsListing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlaylistsListing).call(this));\n\n    _this.updateFilteredRating = function (rating) {\n      var filterRating = _this.state.filterRating;\n      filterRating = rating;\n\n      _this.setState({\n        filterRating: filterRating\n      });\n    };\n\n    _this.resetRateFiltering = function (event) {\n      _this.setState({\n        filterRating: 0\n      });\n    };\n\n    _this.state = {\n      filterString: '',\n      filterRating: 0\n    };\n    return _this;\n  }\n\n  _createClass(PlaylistsListing, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.history.push(\"/\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var playlistsToRender = this.props.data.user && this.props.data.playlists ? this.props.data.playlists.filter(function (playlist) {\n        var matchesPlaylist = playlist.name.toLowerCase().includes(_this2.state.filterString.toLowerCase());\n        var matchesSong = playlist.songs.find(function (song) {\n          return song.name.toLowerCase().includes(_this2.state.filterString.toLowerCase());\n        });\n        return matchesPlaylist || matchesSong;\n      }).filter(function (playlist) {\n        var matcheRating;\n\n        if (_this2.state.filterRating !== 0) {\n          matcheRating = playlist.rating === _this2.state.filterRating;\n          return matcheRating;\n        } else {\n          matcheRating = playlist;\n        }\n\n        return matcheRating;\n      }) : [];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, this.props.data.user, \"'s playlist\"), React.createElement(DownloadPlaylist, {\n        playlists: this.props.data.playlists,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(PlaylistCounter, {\n        playlists: playlistsToRender,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(HoursCounter, {\n        playlists: playlistsToRender,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(Filter, {\n        onTextChange: function onTextChange(text) {\n          return _this2.setState({\n            filterString: text\n          });\n        },\n        updateFilteredRating: this.updateFilteredRating,\n        resetRateFiltering: this.resetRateFiltering,\n        ratingFilterValue: this.state.filterRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"playlistGrid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.props.data.playlists.map(function (playlist, key) {\n        return React.createElement(Playlist, {\n          playlist: playlist,\n          addTag: _this2.props.addTag,\n          key: key,\n          index: key,\n          history: _this2.props.history,\n          addPlaylistRating: _this2.props.addPlaylistRating,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return PlaylistsListing;\n}(Component);\n\nexport default PlaylistsListing;","map":{"version":3,"sources":["/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistsListing.js"],"names":["React","Component","Playlist","DownloadPlaylist","HoursCounter","Filter","PlaylistCounter","PlaylistsListing","updateFilteredRating","rating","filterRating","state","setState","resetRateFiltering","event","filterString","props","history","push","playlistsToRender","data","user","playlists","filter","playlist","matchesPlaylist","name","toLowerCase","includes","matchesSong","songs","find","song","matcheRating","text","map","key","addTag","addPlaylistRating"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//components\nimport Playlist from './Playlist';\nimport DownloadPlaylist from './DownloadPlaylist';\nimport HoursCounter from './HoursCounter.js';\nimport Filter from './Filter';\nimport PlaylistCounter from './PlaylistCounter';\n\nclass PlaylistsListing extends Component {\n    constructor() {\n        super();\n        this.state = {\n            filterString: '',\n            filterRating: 0,\n        }\n    }\n\n    updateFilteredRating = (rating) => {\n        let filterRating = this.state.filterRating\n        filterRating = rating\n        this.setState({ filterRating })\n    }\n\n    resetRateFiltering = (event) => {\n        this.setState({ filterRating: 0 })\n    }\n\n    componentDidMount() {\n        this.props.history.push(`/`)\n    }\n\n    render() {\n        let playlistsToRender =\n            this.props.data.user &&\n                this.props.data.playlists\n                ? this.props.data.playlists.filter(playlist => {\n                    let matchesPlaylist = playlist.name.toLowerCase().includes(\n                        this.state.filterString.toLowerCase())\n                    let matchesSong = playlist.songs.find(song =>\n                        song.name.toLowerCase().includes(this.state.filterString.toLowerCase()))\n                    return matchesPlaylist || matchesSong\n                }).filter(playlist => {\n                    let matcheRating;\n                    if (this.state.filterRating !== 0) {\n                        matcheRating = playlist.rating === this.state.filterRating\n                        return matcheRating\n                    } else {\n                        matcheRating = playlist\n                    }\n                    return matcheRating\n                }) : []\n        return (\n            <div>\n                <h1 >\n                    {this.props.data.user}'s playlist\n                </h1>\n                <DownloadPlaylist\n                    playlists={this.props.data.playlists}\n                />\n                <PlaylistCounter\n                    playlists={playlistsToRender}\n                />\n                <HoursCounter\n                    playlists={playlistsToRender}\n                />\n                <Filter\n                    onTextChange={text => this.setState({ filterString: text })}\n                    updateFilteredRating={this.updateFilteredRating}\n                    resetRateFiltering={this.resetRateFiltering}\n                    ratingFilterValue={this.state.filterRating}\n                />\n                <div className=\"playlistGrid\">\n                    {this.props.data.playlists.map((playlist, key) =>\n                        <Playlist\n                            playlist={playlist}\n                            addTag={this.props.addTag}\n                            key={key}\n                            index={key}\n                            history={this.props.history}\n                            addPlaylistRating={this.props.addPlaylistRating}\n                        />\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default PlaylistsListing;"]},"metadata":{},"sourceType":"module"}