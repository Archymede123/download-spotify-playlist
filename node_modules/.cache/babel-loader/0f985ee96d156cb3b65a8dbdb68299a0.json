{"ast":null,"code":"import _classCallCheck from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistPage.js\";\nimport React, { Component } from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport className from 'classnames';\nimport Button from './UI-components/Button';\nimport Blindtest from './blindtest/Blindtest'; // css\n\nimport '../css/PlaylistPage.css';\nvar spotifyApi = new SpotifyWebApi();\n\nvar PlaylistPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PlaylistPage, _Component);\n\n  function PlaylistPage() {\n    var _this;\n\n    _classCallCheck(this, PlaylistPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlaylistPage).call(this));\n\n    _this.handleBackButton = function () {\n      _this.props.history.push(\"/\");\n    };\n\n    _this.triggerPlaylist = function () {\n      var uri = {\n        \"context_uri\": _this.state.playlist.uri\n      };\n      spotifyApi.play(uri);\n    };\n\n    _this.startBlindtest = function () {\n      _this.setState({\n        blindtestPlaying: true\n      });\n    };\n\n    _this.finishBlindtest = function () {\n      _this.setState({\n        blindtestPlaying: false\n      });\n    };\n\n    _this.state = {\n      playlist: {},\n      blindtestPlaying: false\n    };\n    return _this;\n  }\n\n  _createClass(PlaylistPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var playlistIndex = this.props.match.params.playlistId.match(/\\d/);\n      var playlist = this.props.playlists.find(function (playlist) {\n        return playlist.index.toString() === playlistIndex[0];\n      });\n      this.setState({\n        playlist: playlist\n      });\n      spotifyApi.setAccessToken(this.props.access_token);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var playlist = this.state.playlist;\n      var blindTestClass = className({\n        blindtest: true,\n        playing: this.state.blindtestPlaying,\n        hidden: !this.state.blindtestPlaying\n      });\n      return React.createElement(\"div\", {\n        className: \"playlistPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Button, {\n        content: \"Back to playlist list\",\n        onClick: this.handleBackButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, playlist.name), React.createElement(Button, {\n        content: \"Play\",\n        onClick: this.triggerPlaylist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(Button, {\n        content: \"start blindtest\",\n        onClick: this.startBlindtest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: blindTestClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"close\",\n        content: \"close\",\n        onClick: this.finishBlindtest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Blindtest, {\n        access_token: this.props.access_token,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), playlist.songs ? React.createElement(\"ul\", {\n        className: \"song-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \" \", playlist.songs.map(function (song, key) {\n        return React.createElement(\"li\", {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, song.name);\n      }), \" \") : null);\n    }\n  }]);\n\n  return PlaylistPage;\n}(Component);\n\nexport default PlaylistPage;","map":{"version":3,"sources":["/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/PlaylistPage.js"],"names":["React","Component","SpotifyWebApi","className","Button","Blindtest","spotifyApi","PlaylistPage","handleBackButton","props","history","push","triggerPlaylist","uri","state","playlist","play","startBlindtest","setState","blindtestPlaying","finishBlindtest","playlistIndex","match","params","playlistId","playlists","find","index","toString","setAccessToken","access_token","blindTestClass","blindtest","playing","hidden","name","songs","map","song","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport className from 'classnames';\nimport Button from './UI-components/Button';\nimport Blindtest from './blindtest/Blindtest'\n\n// css\nimport '../css/PlaylistPage.css';\n\nconst spotifyApi = new SpotifyWebApi();\n\n\n\nclass PlaylistPage extends Component {\n    constructor() {\n        super();\n        this.state = {\n            playlist: {},\n            blindtestPlaying: false\n        }\n    }\n\n    handleBackButton = () => {\n        this.props.history.push(`/`)\n    }\n\n    triggerPlaylist = () => {\n\n        const uri = {\n            \"context_uri\": this.state.playlist.uri,\n        }\n        spotifyApi.play(uri)\n    }\n\n    startBlindtest = () => {\n        this.setState({ blindtestPlaying: true })\n    }\n\n    finishBlindtest = () => {\n        this.setState({ blindtestPlaying: false })\n    }\n\n    componentDidMount() {\n        let playlistIndex = this.props.match.params.playlistId.match(/\\d/)\n        let playlist = this.props.playlists.find(playlist =>\n            playlist.index.toString() === playlistIndex[0]\n        )\n        this.setState({ playlist })\n        spotifyApi.setAccessToken(this.props.access_token)\n    }\n\n    render() {\n        let playlist = this.state.playlist\n        var blindTestClass = className({\n            blindtest: true,\n            playing: this.state.blindtestPlaying,\n            hidden: !this.state.blindtestPlaying\n        })\n        return (\n            <div className=\"playlistPage\">\n                <Button content=\"Back to playlist list\" onClick={this.handleBackButton} />\n                <div>\n                    <p>{playlist.name}</p>\n                    <Button content=\"Play\" onClick={this.triggerPlaylist} />\n                </div>\n                <Button content=\"start blindtest\" onClick={this.startBlindtest} />\n                <div className={blindTestClass}>\n                    <Button className='close' content=\"close\" onClick={this.finishBlindtest} />\n                    <Blindtest access_token={this.props.access_token} />\n                </div>\n                {playlist.songs ?\n                    <ul className=\"song-list\"> {playlist.songs.map((song, key) =>\n                        <li key={key}>{song.name}</li>\n                    )} </ul>\n                    : null\n                }\n            </div>\n\n\n        );\n    }\n}\n\nexport default PlaylistPage;"]},"metadata":{},"sourceType":"module"}