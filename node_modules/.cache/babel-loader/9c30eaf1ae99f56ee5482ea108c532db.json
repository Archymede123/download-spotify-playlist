{"ast":null,"code":"import _classCallCheck from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/Homepage.js\";\nimport React, { Component } from 'react'; //components\n\nimport PlaylistCard from './PlaylistCard';\nimport DownloadPlaylist from './DownloadPlaylist';\nimport HoursCounter from './HoursCounter.js';\nimport Filter from './Filter';\nimport PlaylistCounter from './PlaylistCounter'; //css \n\nimport '../css/Homepage.css';\n\nvar Homepage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Homepage, _Component);\n\n  function Homepage() {\n    var _this;\n\n    _classCallCheck(this, Homepage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Homepage).call(this));\n\n    _this.updateFilteredRating = function (rating) {\n      var filterRating = _this.state.filterRating;\n      filterRating = rating;\n\n      _this.setState({\n        filterRating: filterRating\n      });\n    };\n\n    _this.resetRateFiltering = function (event) {\n      _this.setState({\n        filterRating: 0\n      });\n    };\n\n    _this.state = {\n      filterString: '',\n      filterRating: 0\n    };\n    return _this;\n  }\n\n  _createClass(Homepage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.history.push(\"/\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var playlistsToRender = this.props.data.user && this.props.data.playlists ? this.props.data.playlists.filter(function (playlist) {\n        var matchesPlaylist = playlist.name.toLowerCase().includes(_this2.state.filterString.toLowerCase());\n        var matchesSong = playlist.songs.find(function (song) {\n          return song.name.toLowerCase().includes(_this2.state.filterString.toLowerCase());\n        });\n        return matchesPlaylist || matchesSong;\n      }).filter(function (playlist) {\n        var matcheRating;\n\n        if (_this2.state.filterRating !== 0) {\n          matcheRating = playlist.rating === _this2.state.filterRating;\n          return matcheRating;\n        } else {\n          matcheRating = playlist;\n        }\n\n        return matcheRating;\n      }) : [];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pagetitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Manage you Spotify Playlists\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Rating, finding and playing playlists has never been so easy \")), React.createElement(\"div\", {\n        className: \"userinfos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.props.data.user[0], \"'s playlist\", React.createElement(\"img\", {\n        src: this.props.data.user[2],\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(DownloadPlaylist, {\n        playlists: this.props.data.playlists,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(PlaylistCounter, {\n        playlists: playlistsToRender,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(HoursCounter, {\n        playlists: playlistsToRender,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Filter, {\n        onTextChange: function onTextChange(text) {\n          return _this2.setState({\n            filterString: text\n          });\n        },\n        updateFilteredRating: this.updateFilteredRating,\n        resetRateFiltering: this.resetRateFiltering,\n        ratingFilterValue: this.state.filterRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"playlistGrid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, playlistsToRender.map(function (playlist, key) {\n        return React.createElement(PlaylistCard, {\n          playlist: playlist,\n          addTag: _this2.props.addTag,\n          key: key,\n          index: key,\n          history: _this2.props.history,\n          addPlaylistRating: _this2.props.addPlaylistRating,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return Homepage;\n}(Component);\n\nexport default Homepage;","map":{"version":3,"sources":["/Users/timotheereynaud/code/Archymede123/better-playlists-tuto/download-spotify-playlist/src/components/Homepage.js"],"names":["React","Component","PlaylistCard","DownloadPlaylist","HoursCounter","Filter","PlaylistCounter","Homepage","updateFilteredRating","rating","filterRating","state","setState","resetRateFiltering","event","filterString","props","history","push","playlistsToRender","data","user","playlists","filter","playlist","matchesPlaylist","name","toLowerCase","includes","matchesSong","songs","find","song","matcheRating","text","map","key","addTag","addPlaylistRating"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//components\nimport PlaylistCard from './PlaylistCard';\nimport DownloadPlaylist from './DownloadPlaylist';\nimport HoursCounter from './HoursCounter.js';\nimport Filter from './Filter';\nimport PlaylistCounter from './PlaylistCounter';\n\n//css \nimport '../css/Homepage.css';\n\nclass Homepage extends Component {\n    constructor() {\n        super();\n        this.state = {\n            filterString: '',\n            filterRating: 0,\n        }\n    }\n\n    updateFilteredRating = (rating) => {\n        let filterRating = this.state.filterRating\n        filterRating = rating\n        this.setState({ filterRating })\n    }\n\n    resetRateFiltering = (event) => {\n        this.setState({ filterRating: 0 })\n    }\n\n    componentDidMount() {\n        this.props.history.push(`/`)\n    }\n\n    render() {\n        let playlistsToRender =\n            this.props.data.user &&\n                this.props.data.playlists\n                ? this.props.data.playlists.filter(playlist => {\n                    let matchesPlaylist = playlist.name.toLowerCase().includes(\n                        this.state.filterString.toLowerCase())\n                    let matchesSong = playlist.songs.find(song =>\n                        song.name.toLowerCase().includes(this.state.filterString.toLowerCase()))\n                    return matchesPlaylist || matchesSong\n                }).filter(playlist => {\n                    let matcheRating;\n                    if (this.state.filterRating !== 0) {\n                        matcheRating = playlist.rating === this.state.filterRating\n                        return matcheRating\n                    } else {\n                        matcheRating = playlist\n                    }\n                    return matcheRating\n                }) : []\n        return (\n            <div>\n                <div className=\"pagetitle\">\n                    <h1 className=\"title\">Manage you Spotify Playlists</h1>\n                    <p>Rating, finding and playing playlists has never been so easy </p>\n                </div>\n                <div className=\"userinfos\">\n                    {this.props.data.user[0]}'s playlist\n                    <img src={this.props.data.user[2]} alt=\"\" />\n                </div>\n                <DownloadPlaylist\n                    playlists={this.props.data.playlists}\n                />\n                <PlaylistCounter\n                    playlists={playlistsToRender}\n                />\n                <HoursCounter\n                    playlists={playlistsToRender}\n                />\n                <Filter\n                    onTextChange={text => this.setState({ filterString: text })}\n                    updateFilteredRating={this.updateFilteredRating}\n                    resetRateFiltering={this.resetRateFiltering}\n                    ratingFilterValue={this.state.filterRating}\n                />\n                <div className=\"playlistGrid\">\n                    {playlistsToRender.map((playlist, key) =>\n                        <PlaylistCard\n                            playlist={playlist}\n                            addTag={this.props.addTag}\n                            key={key}\n                            index={key}\n                            history={this.props.history}\n                            addPlaylistRating={this.props.addPlaylistRating}\n                        />\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default Homepage;"]},"metadata":{},"sourceType":"module"}